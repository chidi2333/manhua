(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d37b1b10"],{"0698":function(t,e,s){var a=s("97a5"),c=s("4ec2"),n=s("7eac"),r=n("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==c(t))}},"072c":function(t,e,s){var a=s("7eac"),c=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[c]=!1,"/./"[t](e)}catch(a){}}return!1}},"451e":function(t,e,s){var a=s("0698");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"79ce":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-search"},[s("header",{staticClass:"search-header"},[s("div",{staticClass:"header-back",on:{click:function(e){return t.$router.back()}}}),s("div",{staticClass:"header-search"},[s("span",{staticClass:"icon-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:"search-input font-24",attrs:{type:"search",placeholder:"漫画名丨作者 ^_^"},domProps:{value:t.searchVal},on:{input:function(e){e.target.composing||(t.searchVal=e.target.value)}}})]),s("div",{staticClass:"header-btn font-30",on:{click:function(e){return t.saveSearch(t.searchVal)}}},[t._v("搜索")])]),s("div",{staticClass:"search-main"},[t.searchVal?[s("section",{staticClass:"search-content"},t._l(t.searchIndexList,(function(e){return s("p",{key:e,staticClass:"item font-28",on:{click:function(s){return t.saveSearch(e)}}},[t._v(t._s(e))])})),0)]:[s("section",{staticClass:"search-recommend"},[s("div",{staticClass:"title font-26"},[s("span",{staticClass:"title-title"},[t._v("大家都在搜")]),s("span",{staticClass:"title-btn",on:{click:t.getHotSearch}},[s("span",{staticClass:"icon-refresh"}),t._v("刷新 ")])]),s("div",{staticClass:"recommend-content font-28"},t._l(t.hotWordsList,(function(e){return s("span",{key:e.id,staticClass:"recommend-item",on:{click:function(s){return t.saveSearch(e.keyword)}}},[t._v(t._s(e.keyword))])})),0)]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.historySearchList.length>0,expression:"historySearchList.length > 0"}],staticClass:"search-history"},[s("div",{staticClass:"title font-26"},[s("span",{staticClass:"title-title"},[t._v("最近搜索")]),s("span",{staticClass:"title-btn",on:{click:t.deleteSearch}},[s("span",{staticClass:"icon-del"})])]),s("div",{staticClass:"history-content font-28"},t._l(t.historySearchList,(function(e){return s("span",{key:e,staticClass:"history-item",on:{click:function(s){return t.saveSearch(e)}}},[s("span",{staticClass:"icon-time"}),t._v(" "+t._s(e)+" ")])})),0)])]],2)])},c=[],n=(s("8ab6"),s("85e2"),s("3bb8")),r={name:"Search",data:function(){return{searchVal:"",hotWordsList:[],historySearchList:this.getSearch(),searchIndexList:[]}},methods:{getHotSearch:function(){var t=this;Object(n["b"])().then((function(e){200===e.code?t.hotWordsList=e.info.hotWordsList:console.log(e.code_msg)}))},saveSearch:function(t){if(t){var e=window.localStorage.getItem("search")?JSON.parse(window.localStorage.getItem("search")):[];e.includes(t)||(e.push(t),window.localStorage.setItem("search",JSON.stringify(e))),this.$router.push("/search-result?name="+t)}},getSearch:function(){var t=window.localStorage.getItem("search");return t?JSON.parse(t):[]},deleteSearch:function(){this.historySearchList=[],window.localStorage.removeItem("search")},searchIndex:function(t){var e=this;Object(n["h"])(t).then((function(t){200===t.code?e.searchIndexList=t.info:console.log(t.code_msg)}))}},watch:{searchVal:function(t,e){t&&this.searchIndex(t)}},created:function(){this.getHotSearch()}},i=r,o=(s("dada"),s("c701")),h=Object(o["a"])(i,a,c,!1,null,"5674ec8d",null);e["default"]=h.exports},"85e2":function(t,e,s){"use strict";var a=s("47c2"),c=s("451e"),n=s("004e"),r=s("072c");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(n(this)).indexOf(c(t),arguments.length>1?arguments[1]:void 0)}})},"8ab6":function(t,e,s){"use strict";var a=s("47c2"),c=s("7595").includes,n=s("3592"),r=s("4686"),i=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!i},{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},dada:function(t,e,s){"use strict";s("f151")},f151:function(t,e,s){}}]);
//# sourceMappingURL=chunk-d37b1b10.83f9b668.js.map